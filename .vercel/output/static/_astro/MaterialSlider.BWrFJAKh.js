import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.BVOCwoKb.js";/* empty css                       */const I=({materials:i})=>{const[a,p]=r.useState(0),[h,R]=r.useState(1),[m,L]=r.useState(0),[g,M]=r.useState(!1),o=r.useRef(null),c=r.useRef(null),j=r.useRef(0),w=r.useRef(0),d=r.useRef(!1),f=r.useRef(null),S=()=>{const s=window.innerWidth<600;if(M(s),!s||!o.current)return;const l=o.current,u=l.offsetWidth,n=parseInt(window.getComputedStyle(l).paddingLeft)*2,x=u-n;let E=1,N=Math.max(250,x*.9);x>=480&&(E=1.2,N=(x-30)/1.2),R(E),L(N),p(0)};r.useEffect(()=>{const e=()=>{clearTimeout(f.current),f.current=setTimeout(S,100)};return S(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),clearTimeout(f.current)}},[]);const v=e=>{const s=Math.max(0,i.length-Math.floor(h));p(Math.min(Math.max(e,0),s))};return r.useEffect(()=>{const e=o.current;if(!e)return;const s=n=>{n.stopPropagation(),j.current=n.touches[0].clientX,d.current=!0,c.current&&(c.current.style.transition="none")},l=n=>{d.current&&(n.preventDefault(),w.current=n.touches[0].clientX)},u=()=>{if(!d.current)return;d.current=!1,c.current&&(c.current.style.transition="");const n=j.current-w.current;n>50?v(a+1):n<-50&&v(a-1)};return e.addEventListener("touchstart",s,{passive:!1}),e.addEventListener("touchmove",l,{passive:!1}),e.addEventListener("touchend",u),()=>{e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",u)}},[a,h]),t.jsx("div",{ref:o,className:`materials-wrapper ${g?"slider-mode":"grid-mode"}`,children:g?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"materials-slider-container",children:t.jsx("div",{className:"materials-slider-track",ref:c,style:{transform:`translateX(-${a*(m+16)}px)`,width:`${i.length*(m+16)}px`},children:i.map((e,s)=>t.jsx("div",{className:"material-slide",style:{width:`${m}px`},children:t.jsxs("div",{className:"material-card",children:[t.jsx("img",{src:e.img,alt:e.img_alt,className:"material-image"}),t.jsx("h3",{children:e.title}),t.jsx("p",{children:e.description})]})},s))})}),t.jsx("div",{className:"materials-slider-dots",children:[...Array(Math.max(1,i.length-Math.floor(h)+1))].map((e,s)=>t.jsx("button",{className:`slider-dot ${s===a?"active":""}`,onClick:()=>v(s),"aria-label":`Ir al slide ${s+1}`},s))})]}):t.jsx("div",{className:"materials-grid",children:i.map((e,s)=>t.jsxs("div",{className:"material-card",children:[t.jsx("img",{src:e.img,alt:e.img_alt,className:"material-image"}),t.jsx("h3",{children:e.title}),t.jsx("p",{children:e.description})]},s))})})};export{I as default};
