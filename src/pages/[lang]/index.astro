---
import Layout from '../../layouts/Layout.astro';
import { loadTranslations } from '../../i18n/ui';
import Hero from '../../components/Hero.astro';
import Navbar from '../../components/Navbar.astro';
import CatalogueSection from '../../components/CatalogueSection.astro';
import About from '../../components/About.astro';
import ReferencesSection from '../../components/ReferencesSection.astro';
import Contact from '../../components/Contact.astro';
import Footer from '../../components/Footer.astro';
import Materials from '../../components/Materials.astro';


const { lang } = Astro.params;
const currentLang = lang && ["en", "es"].includes(lang) ? lang : 'es';

const translations = loadTranslations(currentLang);

export async function getStaticPaths() {
  return [
    { params: { lang: 'es' } },
    { params: { lang: 'en' } },
  ];
}
---

<Layout lang={currentLang} translations={translations}>
    <header>
        <Navbar translations={translations} client:load />
    </header>
    <main>
        <Hero translations={translations} client:load />
        <CatalogueSection translations={translations} client:load />
        <About translations={translations} lang={lang} client:load />
        <Materials translations={translations} client:load />
        <ReferencesSection translations={translations} client:load />
        <Contact translations={translations} client:load />
    </main>
    <footer>
        <Footer translations={translations} client:load />
    </footer>
</Layout>