---
import { languages, defaultLang, getLocalizedAnchor, getLocalizedURL } from '../i18n/ui';
import { anchors } from '../i18n/anchors';

const { currentLang } = Astro.props;
const currentUrl = Astro.url;

function getLanguageUrl(targetLang: string) {
  return getLocalizedURL(
    currentUrl.pathname,
    targetLang,
    currentUrl.hash
  );
}
---

<div class="language-selector">
  <a 
    href={getLanguageUrl(currentLang === 'es' ? 'en' : 'es')} 
    class="lang-link"
  >
    <img class="language-icon" src="/icons/language.svg" alt="Language Icon" />
    {currentLang === 'es' ? 'EN' : 'ES'}  
  </a>
</div>

<style>
  .lang-link {
    display: flex;
    align-items: center;
    padding: 0.5rem 1rem;
    text-decoration: none;
    transition: all 0.3s ease;
    color: var(--coffee-brown);
    cursor: pointer;
  }

  .lang-link:hover{
    color: var(--walnut);
  }

  .language-icon {
    width: 40px;
    height: auto;
    margin-right: 0.5rem;
  }
</style>